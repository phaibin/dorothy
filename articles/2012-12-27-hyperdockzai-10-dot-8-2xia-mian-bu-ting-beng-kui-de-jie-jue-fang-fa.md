---
layout: post
title: HyperDock在10.8.2下面不停崩溃的解决方法
date: 2012-12-27 15:55
categories:
- Mac
tags:
- mac
published: true
comments: true
---
<p><p>原文：<a href="http://bbs.weiphone.com/read-htm-tid-5311063.html">http://bbs.weiphone.com/read-htm-tid-5311063.html</a></p>
<p><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">升级后，虽然不会出现crash的弹窗，但一段时间后hyperdock还是会自动退出。</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">解决思路很简单：只要写个脚本作为守护进程启动，监控hyperdock进程，一旦被退出就重新启动hyperdock。</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">具体步骤：</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">1、随便找个目录创建文件launch_hyper.sh. </span><strong style="outline: none; font-weight: bold; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">（比如：/Users/你的用户名/Documents/sh/launch_hyper.sh）</strong><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">内容如下：</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">#! /bin/sh</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">while true</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">do</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">/Library/PreferencePanes/HyperDock.prefpane/Contents/Resources/HyperDock\ Helper.app/Contents/MacOS/HyperDock\ Helper</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">done</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">2、打开终端执行下面的命令</span><strong style="outline: none; font-weight: bold; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">（目录与第一步对应）</strong><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">cd /Users/你的用户名/Documents/sh/</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">chmod 755 launch_hyper.sh</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">此时可以先打开终端，运行 ./Users/你的用户名/Documents/sh/launch_hyper.sh 看hyperdock是否正常运行，如果正常启动了说明脚本没有问题。</span></p>
<hr style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" />
<p><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">下面需要解决的就是在开机的时候让该脚本自动运行</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">3、在</span><strong style="outline: none; font-weight: bold; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">/Library/LaunchAgents</strong><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">目录下创建com.guopeng.launchHyper.plist文件</span><strong style="outline: none; font-weight: bold; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">（可以用你的名字替换guopeng）</strong><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">内容如下（注意主要是路径的对应）：</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">&lt;plist version="1.0"&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">    &lt;dict&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;key&gt;Disabled&lt;/key&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;false/&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;key&gt;KeepAlive&lt;/key&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;true/&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;key&gt;Label&lt;/key&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;string&gt;com.guopeng.launchHyperServices&lt;/string&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;key&gt;ProgramArguments&lt;/key&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;array&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">            &lt;string&gt;/Users/你的用户名/Documents/sh/launch_hyper.sh&lt;/string&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;/array&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;key&gt;RunAtLoad&lt;/key&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">        &lt;true/&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">    &lt;/dict&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">&lt;/plist&gt;</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">4、打开终端执行下面的命令：</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">cd /Library/LaunchAgents</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">修改此文件权限和所有者（plist文件名与上面第三步对应；输入命令后需要密码）</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">sudo chown -R root:wheel com.guopeng.launchHyper.plist</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">sudo chmod 644 com.guopeng.launchHyper.plist</span><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><br style="outline: none; color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;" /><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">然后</span></p>
<p><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">launchctl load -w /Library/LaunchAgents/</span><span style="color: #333333; font-family: Arial; font-size: 14px; line-height: 26px;">com.guopeng.launchHyper.plist</span></p>
<p><span style="color: #333333; font-family: Arial; font-size: large;"><span style="line-height: 26px;">------------------------<span style="color: #333333; font-family: Arial; font-size: large; line-height: 26px;">------------------------</span><span style="color: #333333; font-family: Arial; font-size: large; line-height: 26px;">------------------------</span><span style="color: #333333; font-family: Arial; font-size: large; line-height: 26px;">------------------------</span><span style="color: #333333; font-family: Arial; font-size: large; line-height: 26px;">------------------------</span></span></span></p>
<p><span style="color: #333333; font-family: Arial; font-size: large;"><span style="line-height: 26px;">注：</span></span></p>
<p><span style="color: #333333; font-family: Arial; font-size: large;"><span style="line-height: 26px;">这个办法可行，但是每次HyperDock崩溃它的控制面板都会蹦出来，频繁的时候已经半分钟一次，让人非常恼火。现在我又换成了老的1.2.1版本，还比1.3稳定多了。</span></span></p>
<p><span style="color: #333333; font-family: Arial; font-size: large;"><span style="line-height: 26px;">实在不行只能买个正版的license了，这个软件折腾我很多次了，始终没有很好的解决办法，可是又离不开。</span></span></p></p>
